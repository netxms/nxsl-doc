[.nxsl-class]
[[class-sshsession]]
=== SSHSession

Represents an interactive SSH session to a remote node for executing commands and managing privilege escalation. SSHSession objects are typically created through the <<class-node,Node>> class method `openSSHSession()`.

==== Instance attributes

[.attr-list]
--
[[sshsession-connected]]
connected: bool::
Returns TRUE if the SSH channel is connected.

[[sshsession-lastError]]
lastError: int::
Error code from the last operation (0 if connected and no error).

[[sshsession-lastErrorMessage]]
lastErrorMessage: <<class-string,String>>::
Text description of the last error.

[[sshsession-nodeId]]
nodeId: int::
ID of the node this session is connected to.

[[sshsession-privileged]]
privileged: bool::
Returns TRUE if the session has escalated privileges.
--

==== Instance methods

[.method-list]
--
[[sshsession-close]]
close() => void::
Close the SSH session.
+
[.source]
....
session = $node->openSSHSession();
if (session->connected) {
    // Execute commands...
    session->close();
}
....

[[sshsession-escalatePrivilege]]
escalatePrivilege(password): bool::
Escalate to privileged user.
+
.Parameters
[cols="1,1,3a" grid="none", frame="none"]
|===
|password|String|Password for privilege escalation
|===
+
.Return
TRUE if successful, FALSE otherwise.
+
[.source]
....
session = $node->openSSHSession();
if (session->connected) {
    if (session->escalatePrivilege("secretpassword")) {
        // Execute privileged commands...
    }
}
....

[[sshsession-execute]]
execute(command, timeout): <<class-array,Array>>::
Execute a command on the remote host.
+
.Parameters
[cols="1,1,3a" grid="none", frame="none"]
|===
|command|String|Command to execute
|timeout|Integer|Optional timeout in milliseconds
|===
+
.Return
Array of strings (command output lines) or NULL if not connected.
+
[.source]
....
session = $node->openSSHSession();
if (session->connected) {
    output = session->execute("ls -la", 5000);
    foreach (line : output) {
        println(line);
    }
    session->close();
}
....
--
